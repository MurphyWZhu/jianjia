<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.baima.jianjia.mapper.UserMapper">
    <select id="queryUserList" resultType="User">
		select username,password from jianjia.userlogin
	</select>
    <select id="queryUserNameList" resultType="String">
		select username from jianjia.userlogin
	</select>
    <select id="queryUserByName" resultType="User" parameterType="String">
		select * from jianjia.userlogin where username=#{name}
	</select>
    <select id="addUser">
		insert into jianjia.userlogin values (#{username},#{password})
	</select>
    <select id="getUserInfo" resultType="Userinfo" parameterType="String">
		select * from jianjia.userinfo where username=#{username}
	</select>
	<select id="searchKey" resultType="Userinfo" parameterType="String">
		select * from jianjia.userinfo where key like #{key}
	</select>
	<select id="searchNikeName" resultType="Userinfo" parameterType="String">
		select * from jianjia.userinfo where nikename like #{nikename}
	</select>
	<select id="updateUserInfo">
		update jianjia.userinfo set age=#{age},nikename=#{nikename},sex=#{sex},department=#{department},profilepicture=#{profilepicture},"key"=#{key},"like"=#{like} where username=#{username}
	</select>
	<select id="getLikeList" resultType="String" parameterType="String">
		select likeuser from jianjia.userlike where username=#{username}
	</select>
	<select id="toLike">
		insert into jianjia.userlike values (#{username},#{likeuser})
	</select>
	<select id="rmLike">
		delete from jianjia.userlike where username=#{username} and likeuser=#{likeuser}
	</select>
</mapper>

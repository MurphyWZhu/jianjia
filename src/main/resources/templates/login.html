<!DOCTYPE html>
<html lang="us" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>登录</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
	 <script>
 $(document).ready(function(){
	 $("#subbut").click(function(){
         $.post("/tologin","username="+$("#username-input")[0].value+"&password="+$("#password-input")[0].value,function(data,status){
		var rr = $.parseJSON(data);
		if(status=="success"){
			if(rr.code==0){
				$("#div1").append('<div class="alert alert-success alert-dismissible fade show" style="position:relative;top:10px;right:10px"><button type="button" class="close" data-dismiss="alert">&times;</button>'+rr.info+'</div>');
				$(window).attr('location','/index');
			}
			else{
				$("#div1").append('<div class="alert alert-success alert-dismissible fade show" style="position:relative;top:10px;right:10px"><button type="button" class="close" data-dismiss="alert">&times;</button>'+rr.info+'</div>');
			}
		}
         });
   });
});
 </script>
<script>
	$(document).ready(function(){
		$("#signinbut").click(function(){
			var reg = /^\s*$/;
			//返回值为true表示不是空字符串
			value = $("#username-input-mo")[0].value;
			if (value != null && value != undefined && !reg.test(value)){
				$.post("/tosignup","username="+$("#username-input-mo")[0].value+"&password="+$("#password-input-mo")[0].value,function(data,status){
				var rr = $.parseJSON(data);
				if(status=="success"){
					if(rr.code==0){
						$("#div2").append('<div class="alert alert-success alert-dismissible fade show" style="position:relative;top:10px;right:10px"><button type="button" class="close" data-dismiss="alert">&times;</button>'+rr.info+'</div>');
					}
					else{
					$("#div2").append('<div class="alert alert-success alert-dismissible fade show" style="position:relative;top:10px;right:10px"><button type="button" class="close" data-dismiss="alert">&times;</button>'+rr.info+'</div>');
					}
				}
				});
			}
			else {
				$("#div2").append('<div class="alert alert-success alert-dismissible fade show" style="position:relative;top:10px;right:10px"><button type="button" class="close" data-dismiss="alert">&times;</button>格式错误</div>');
			}
		 });
   });
</script>
</head>
<body style="text-align:center;padding-top: 10px;background: url(https://jianjia-1253347887.cos.ap-nanjing.myqcloud.com/abcd1.jpg) no-repeat;background-size: 100%;">
	<div class="container">
	<div class="card col">
		<div id="div1" style="position:fixed;top:10px;right:10px;z-index:100000;"></div>
		<div class="row">
			<img src="https://jianjia-1253347887.cos.ap-nanjing.myqcloud.com/aaaa.jpg" class="rounded col-md-6" alt="Cinque Terre" style="margin-top:10px;object-fit:contain;display: block;">
			<div class="col-md-6">
			<form class="from-signin" style="padding:20px;width: 100%;">
				<h2 style="margin: 30px;">欢迎登录</h2>
				<div class="form-group" style="margin: 30px;">
					<input id="username-input" placeholder="用户名" type="username" name="username" class="form-control">
				</div>
				<div class="form-group" style="margin: 30px;">
					<input id="password-input" placeholder="密码" type="password" name="password" class="form-control">
				</div>
	</form>
	<div class="row container">
		<button id="subbut" class="btn btn-info col-3 offset-2">登录</button>
		<button type="button" class="btn btn-info col-3 offset-2" data-toggle="modal" data-target="#myModal">注册</button>
	</div>
		<div class="modal fade" id="myModal">

		<div id="div2" style="position:fixed;top:10px;right:10px"></div>
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
   
        <!-- 模态框头部 -->
        <div class="modal-header">
          <h4 class="modal-title">注册</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
   
        <!-- 模态框主体 -->
        <div class="modal-body">
		<form class="from-signin" style="padding:20px;width: 100%;">
			<div class="form-group" style="margin: 30px;">
				<input id="username-input-mo" placeholder="用户名" type="username" name="username" class="form-control">
			</div>
			<div class="form-group" style="margin: 30px;">
				<input id="password-input-mo" placeholder="密码" type="password" name="password" class="form-control">
			</div>
			<div class="form-check d-flex">
				<label class="form-check-label"></label>>
			</div>
		</form>
        </div>
   
        <!-- 模态框底部 -->
        <div class="modal-footer">
		<button id="signinbut" class="btn btn-info" style="margin-right: 100px;">注册</button>
		<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
        </div>
   
      </div>
    </div>
  </div>
		</div>
		</div>
	</div>
	</div>
</body>
</html>
